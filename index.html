<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BlockSense — Secure Demo</title>

  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
        <div class="logoBox" aria-hidden>
          <svg width="56" height="56" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
            <defs><linearGradient id="lg" x1="0" x2="1"><stop offset="0" stop-color="#00f0e0"/><stop offset="1" stop-color="#8b63ff"/></linearGradient></defs>
            <rect x="4" y="4" width="56" height="56" rx="12" fill="url(#lg)"></rect>
            <text x="50%" y="56%" text-anchor="middle" dominant-baseline="middle" font-weight="900" font-family="Inter,Arial" font-size="26" fill="#041226">B</text>
          </svg>
        </div>
        <div>
          <div class="title">BlockSense — Secure Demo</div>
          <div class="subtitle muted">Blockchain certificate verification — NIT Conclave</div>
        </div>
      </div>

      <div class="controls">
        <div id="networkBadge" class="muted">Disconnected</div>
        <button id="connectBtn" class="btn btn-primary">Connect Wallet</button>
        <button id="exportPdfBtn" class="btn btn-primary">Export PDF</button>
      </div>
    </header>

    <div class="grid">
      <div></div>
      <div style="margin-left:40px;">
        <section class="panel" style="margin-bottom:16px;">
          <div style="display:flex;justify-content:space-between;align-items:flex-start">
            <div>
              <div class="section-title">Issue tamper-proof certificate</div>
              <div class="muted">Store metadata on-chain — generate a normal QR — download PDF.</div>
            </div>
            <div style="text-align:right">
              <div class="muted">Network: <span id="netLabel">—</span></div>
              <div class="muted">Contract: <span id="addrShort">—</span></div>
            </div>
          </div>

          <div style="margin-top:12px" class="form-grid">
            <input id="certId" class="input" placeholder="Certificate ID (eg: BLOCK-001)" />
            <input id="studentName" class="input" placeholder="Recipient full name" />
            <input id="courseName" class="input" placeholder="Course / Event" />
            <input id="rawHash" class="input" placeholder="Optional notes to hash" />
          </div>

          <div style="display:flex;gap:12px;align-items:center;margin-top:12px">
            <button id="issueBtn" class="btn btn-primary">Issue Certificate</button>
            <button id="qrBtn" class="btn btn-primary">Generate QR</button>
            <div id="txStatus" class="muted">No transaction yet</div>
          </div>

          <div style="display:flex;gap:14px;align-items:flex-start;margin-top:14px">
            <div class="qr-wrap">
              <div id="qrcode"></div>
            </div>

            <div style="flex:1">
              <div id="issuedBox" class="panel" style="padding:12px;border-radius:10px;display:none">
                <div class="muted">Certificate issued on-chain</div>
                <pre id="issuedJson" style="margin-top:8px;color:#dff8ff;white-space:pre-wrap"></pre>
              </div>

              <div style="margin-top:12px">
                <div class="section-title">Team</div>
                <div class="devs">
                  <div class="dev-card" style="flex:1">
                    <div class="dev-avatar bj">BJ</div>
                    <div>
                      <div style="font-weight:800">Bharg Jha</div>
                      <div class="muted">Lead Web3 · Frontend / Backend & Contracts</div>
                    </div>
                  </div>

                  <div class="dev-card" style="flex:1">
                    <div class="dev-avatar as">AS</div>
                    <div>
                      <div style="font-weight:800">Anushaya Singh</div>
                      <div class="muted">Documentation & QA Tester</div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </section>

        <section class="panel" style="margin-bottom:12px;">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="section-title">Live session</div>
            <div style="text-align:right">
              <div id="count" style="font-weight:800;font-size:20px">0</div>
              <div class="muted">Certificates</div>
            </div>
          </div>
          <div class="canvas-wrap" style="margin-top:12px"><canvas id="chart" height="120"></canvas></div>
        </section>

        <section class="panel">
          <div class="section-title">Verify certificate</div>
          <div class="muted">Scan QR or enter Certificate ID</div>
          <div style="display:flex;gap:10px;margin-top:10px">
            <input id="verifyId" class="input" placeholder="Enter certId (eg: BLOCK-001)" />
            <button id="verifyBtn" class="btn btn-primary">Verify</button>
          </div>

          <div id="verifyRes" style="display:none;margin-top:12px">
            <div id="verifyCard" class="verify-card">
              <div class="verify-left">
                <div id="vStudent" style="font-size:18px;font-weight:800">—</div>
                <div id="vCourse" class="muted" style="margin-top:6px">—</div>
                <div id="vMeta" class="muted" style="margin-top:10px">Certificate ID: —</div>
              </div>
              <div class="verify-right">
                <div style="font-weight:900;color:#06f0d0">Status: <span id="vStatus" style="font-weight:800;color:#fff">—</span></div>
                <div style="margin-top:10px" class="muted">Issuer</div>
                <div id="vIssuer" style="font-weight:700">—</div>
                <div class="muted" style="margin-top:8px">Issued</div>
                <div id="vDate">—</div>
              </div>
            </div>
          </div>

        </section>
      </div>
    </div>
  </div>

  <div class="robot-wrap" aria-hidden>
    <div id="robotCard" class="robot-card">
      <svg width="360" height="360" viewBox="0 0 360 360" xmlns="http://www.w3.org/2000/svg">
        <defs><linearGradient id="rg1" x1="0" x2="1"><stop offset="0" stop-color="#7fe3ff"/><stop offset="1" stop-color="#9b7cff"/></linearGradient></defs>
        <rect x="12" y="12" rx="24" width="336" height="336" fill="url(#rg1)"/>
        <rect x="40" y="44" rx="16" width="276" height="176" fill="#041827" opacity="0.14"/>
        <ellipse id="eyeL_bg" cx="124" cy="132" rx="28" ry="22" fill="#fff"/>
        <ellipse id="eyeR_bg" cx="236" cy="132" rx="28" ry="22" fill="#fff"/>
        <circle id="pupilL" cx="124" cy="132" r="8" fill="#041827"/>
        <circle id="pupilR" cx="236" cy="132" r="8" fill="#041827"/>
        <rect x="120" y="172" rx="8" width="120" height="10" fill="#041827" opacity="0.9"/>
        <rect x="26" y="216" rx="16" width="308" height="96" fill="rgba(255,255,255,0.02)"/>
      </svg>
    </div>
  </div>

  <div id="toast"></div>

  <script src="app.js"></script>
</body>
</html>
